<!DOCTYPE html>
<html>
<head>
	<title>User Online Status Checker</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<div class="form-container">
		<h2>Enter a Habbo name:</h2>
		<form id="habbo-form">
			<input type="text" id="habbo-name" name="habbo-name" placeholder="Enter name here">
			<button type="submit">Check Status</button>
		</form>
	</div>

	<audio id="notification-sound">
		<source src="notification.mp3" type="audio/mpeg">
	</audio>

	<script>
		const form = document.getElementById('habbo-form');
		const input = document.getElementById('habbo-name');
		const sound = document.getElementById('notification-sound');
		let savedNames = [];

		// Check all saved Habbo names on page load
		window.addEventListener('load', () => {
			if (localStorage.getItem('habboNames')) {
				savedNames = JSON.parse(localStorage.getItem('habboNames'));
				savedNames.forEach(habboName => {
					checkStatus(habboName);
				});
			}
			setTimeout(startInterval, 15000);
		});

		// Add new Habbo name to saved names list
		form.addEventListener('submit', (event) => {
			event.preventDefault();
			const habboName = input.value.trim();
			if (habboName !== '' && !savedNames.includes(habboName)) {
				savedNames.push(habboName);
				localStorage.setItem('habboNames', JSON.stringify(savedNames));
				checkStatus(habboName);
			}
			input.value = '';
		});

		// Check status of a Habbo name
		function checkStatus(habboName) {
			fetch(`https://www.habbo.com/api/public/users?name=${habboName}`)
				.then(response => response.json())
				.then(data => {
					if (data.online) {
						showStatus(`${habboName} is online!`, 'online');
						sound.play();
					} else {
						showStatus(`${habboName} is offline.`, 'offline');
					}
				})
				.catch(error => {
					showStatus(`An error occurred while checking status. Please try again.`, 'error');
				});
		}

		// Check status of all saved Habbo names at regular intervals
		function startInterval() {
			setInterval(() => {
				savedNames.forEach(habboName => {
					checkStatus(habboName);
				});
			}, 15000);
		}

		// Show the status of a Habbo name in the form
		function showStatus(message, status) {
			const statusDiv = document.createElement('div');
			statusDiv.textContent = message;

			if (status === 'online') {
				statusDiv.classList.add('online-status');
			} else if (status === 'offline') {
				statusDiv.classList.add('offline-status');
			}

			form.appendChild(statusDiv);
		}
	</script>

	<style>
		.form-container {
			width: 400px;
			margin: 0 auto;
			text-align: center;
		}

		#habbo-name {
			padding: 10px;
			border-radius: 5px;
			border: none;
		}

		button {
			padding: 10px 20px;
			background-color: #4CAF50;
			color: white;
			border-radius: 5px;
			border: none;
			cursor: pointer;
		}

		button:hover {
			background-color: #3e8e41;
		}

		.online-status {
			color: green;
			font-weight: bold;
		}

		.offline-status {
			color: red;
			font-weight: bold;
		}
	</style>
